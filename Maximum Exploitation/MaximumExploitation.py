import numpy as np
R, C = [int(x) for x in input().split()]
X, Y = [int(x) for x in input().split()]
A = np.zeros((R, C))
for row in range(R):
    A[row,:] = [int(x) for x in input().split()]

sums1 = {}
sums2 = {}

# direction 1
for row in range(0,(R-X+1)):
    for column in range(0,(C-Y+1)):
        plant = np.sum(A[row:row+X, column:column+Y])
        # print(plant)
        # sums1.append(np.sum(plant))
        sums1[plant] = [(row,column), (row+X, column+Y)]


# direction 2
for row in range(0,(R-Y+1)):
    for column in range(0,(C-X+1)):
        plant = np.sum(A[row:row+Y, column:column+X])
        # print(plant)
        # sums2.append(np.sum(plant))
        sums2[plant] = [(row,column),(row+Y,column+X)]

sorted1 = sorted(sums1, reverse=True)
sorted2 = sorted(sums2, reverse=True)

# print(sorted1[0]+ sorted2[0])
lst = []
for p1 in sorted1:
    for p2 in sorted2:
        # print(sums1[p1][1][1],  sums2[p2][0][0])
        if (sums1[p1][1][1] < sums2[p2][0][0]) or (sums1[p1][1][0] < sums2[p2][0][0]):
            lst.append(int(p1+p2))
print(max(lst))            

       